/**
 * scope.js: The world's smallest dependency injection framework for JavaScript (1024 bytes without gzip)
 * version: 0.1.1
 * By Ali Najafizadeh
 * MIT Licensed.
 */

(function(){function r(e){return e.replace(/^\s+|\s+$/gm,"")}function i(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function s(e,n,r){var s=[],o=n.length,u=0;if(!o)return r?r(s):s;i(n,function(n,i){if(!r)s.push(e(n));else{e(n,function(e){u++;s[i]=e||t[n].o;o==u&&r(s)})}});if(!r)return s}function o(e){var t=""+e,n=/^function\s*[\w\d]*\(([\w\d,_$\s]*)\)/.exec(t),i=n[1];return r(i)==""?[]:s(r,i.split(","))}function u(e,t){if(!n[e])n[e]=[];n[e].push(t)}function a(e){i(n[e],function(e){e()});delete n[e]}function f(e){var r=t[e];s(function(e,r){u(e,function(){r(n[e].o)});if(t[e])f(e);else{if(!l.get)throw"E1";l.get(e,function(n){if(n){!t[e]&&(t[e]={});t[e].o=n;a(e)}})}},r.d||[],function(t){r.o=r.o||r.f.apply(null,t);n[e]&&a(e)})}function l(){var n=arguments,r=n.length,i,s,u;if(r==1){i="*"+e++;s=n[0]}else{i=n[0];s=n[1]}if(t[i]){if(!t[i].o)return;else throw"E2:"+i}u=o(s);t[i]={o:null,d:u,f:s};setTimeout(function(){f(i)},13);return function(e){t[i].d=e}}var e=0,t={},n={};try{module.exports=l}catch(c){window.scope=l}})()